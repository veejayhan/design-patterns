#### Pattern-1:ä»£ç†æ¨¡å¼

**å®šä¹‰ï¼š**ä»£ç†æ¨¡å¼ä¸­å­˜åœ¨ä¸¤ç±»å¯¹è±¡ï¼šä»£ç†å¯¹è±¡ã€çœŸå®å¯¹è±¡ï¼Œ é¡¾åæ€ä¹‰ï¼Œä»£ç†å¯¹è±¡ç”¨æ¥æ§åˆ¶å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®ã€‚

**ç›®çš„ï¼š** ğŸ‡¨ğŸ‡³ä¿æŠ¤ç›®æ ‡å¯¹è±¡ï¼Œ ğŸ‡¨ğŸ‡³å¢å¼ºç›®æ ‡å¯¹è±¡

**åˆ†ç±»ï¼š** ğŸ‡¨ğŸ‡³é™æ€ä»£ç†ï¼Œ ğŸ‡¨ğŸ‡³åŠ¨æ€ä»£ç†ï¼ˆJDKåŠ¨æ€ä»£ç†ï¼Œ CGLIBåŠ¨æ€ä»£ç†ï¼‰

**è§’è‰²ï¼š** 

+ æŠ½è±¡ä¸»é¢˜è§’è‰²ï¼šæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œå£°æ˜çœŸå®ä¸»é¢˜ä¸ä»£ç†çš„å…±åŒæ¥å£æ–¹æ³•
+ çœŸå®ä¸»é¢˜å¯¹è±¡ï¼šå³è¢«ä»£ç†çš„å¯¹è±¡ï¼ŒçœŸæ­£çš„é€»è¾‘ä¸šåŠ¡å¯¹è±¡
+ ä»£ç†ä¸»é¢˜è§’è‰²ï¼šä»£ç†å¯¹è±¡ï¼Œå…¶å†…éƒ¨æŒæœ‰çœŸå®å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å¯¹å‰è€…å…·å¤‡å®Œå…¨çš„ä¸šåŠ¡é€»è¾‘ä»£ç†æƒï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šå¢å¼ºçœŸå®å¯¹è±¡ã€‚

ä¸€ã€é™æ€ä»£ç†

æ¯ä¸ªçœŸå®å¯¹è±¡éƒ½å¯¹åº”ä¸€ä¸ªä»£ç†ï¼Œæ²¡ç”Ÿæˆä¸€ä¸ªä»£ç†å°±è¦å®ç°ä¸€æ¬¡æ¥å£ï¼Œ**ä¸èƒ½é€šç”¨ï¼Œæˆæœ¬å¤ªé«˜**

+ æŠ½è±¡ä¸»é¢˜è§’è‰²

```java
public interface IPerfume{
  void marketing();
}
```

+ çœŸå®ä¸»é¢˜å¯¹è±¡

```java
public class Gucci implements IPerfume {
  public void marketing(){
    System.out.println("Gucci Perfume");
  }
}
```

+ ä»£ç†ä¸»é¢˜è§’è‰²

```java
public class GucciProxy implements IPerfume {
  public void marketing(){
    // é€»è¾‘å¢å¼º
    System.out.println("Gucci Beijing")
    // åŸæœ‰é€»è¾‘
    System.out.println("Gucci Perfume");
    // é€»è¾‘å¢å¼º
    System.out.println("The Proxy of Gucci Perfume")
  }
}

æ³¨ï¼šGucciçš„åŒ—äº¬ä»£ç†éœ€è¦å®ç°ä¸€ä¸ªä»£ç†ç±»ï¼Œå…¨ä¸–ç•Œæœ‰å¥½å¤šçš„Gucciä»£ç†ï¼Œæ¯ä¸€ä¸ªä»£ç†éƒ½è¦è‡ªå·±å®ç°ä¸€ä¸ªé¦™æ°´æ¥å£ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œæœ€åå¯èƒ½äº”èŠ±å…«é—¨ï¼Œ===>>>ä¸ä¾¿äºç®¡ç†ï¼ŒåŒæ—¶ä¹Ÿé€ æˆäº†æˆæœ¬çš„ä¸Šå‡
```

äºŒã€åŠ¨æ€ä»£ç†

1. **Java jdkåŠ¨æ€ä»£ç†**ï¼šé€šè¿‡åå°„ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡

```java
// case
public class GucciProxy implements InvocationHandler{
  private IPerfume gucci;
  
  // ç”Ÿæˆä»£ç†å¯¹è±¡
  public IPerfume getInstance(IPerfume gucci){
    this.gucci = gucci;
    Class<?> clazz = gucci.getClass();
    return (IPerfume)Proxy.newProxyInstance(clazz.getClassLoader(), clazz.getInterfaces(), this);
  }
  
  @override
  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable{
    // å‰ç½®é€»è¾‘
    method.invoke(this, target, args);
    // åç½®é€»è¾‘
  }
  
}
```

ğŸ‡¨ğŸ‡³jdkåŠ¨æ€ä»£ç†å¯¹è±¡ç”Ÿæˆè¿‡ç¨‹ï¼š

+ è·å–çœŸå®å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶é€šè¿‡åå°„è·å–å…¶å®ç°çš„æ‰€æœ‰æ¥å£ï¼›
+ Jdk åŠ¨æ€ä»£ç†ç±»å®ç°é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ç±»ï¼Œè¿™ä¸ªç±»è¦å®ç°çœŸå®å¯¹è±¡çš„ç±»çš„æ‰€æœ‰æ¥å£ï¼›
+ åŠ¨æ€ç”ŸæˆJavaä»£ç ï¼ŒæœŸé—´ä¼šè°ƒç”¨ä»£ç†ç±»çš„å‚æ•°ä¸ºå½“å‰handlerï¼ˆGucciProxyï¼‰çš„æœ‰å‚æ„é€ å‡½æ•°ï¼Œhandlerï¼ˆGucciProxyï¼‰ä¼šè°ƒç”¨è‡ªå·±çš„invokeæ–¹æ³•ï¼Œè¿™æ ·å¢åŠ çš„é€»è¾‘å’ŒçœŸå®å¯¹è±¡çš„é€»è¾‘ä¾¿ä¼šå¾—åˆ°æ‰§è¡Œï¼›
+ ç¼–è¯‘ç”Ÿæˆçš„ä»£ç†ç±»ï¼›
+ JVMåŠ è½½è¿è¡Œä»£ç†ç±»å­—èŠ‚ç æ–‡ä»¶ï¼›













â€‹		